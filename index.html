<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>减肥规划器</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
        }

        input {
            width: 100%;
            padding: 8px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #45a049;
        }

        #result {
            margin-top: 20px;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

       .show-result {
            opacity: 1;
        }

       .task {
            margin-bottom: 10px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

       .task.completed {
            background-color: #d4edda;
            color: #28a745;
            text-decoration: line-through;
        }
    </style>
</head>

<body>
    <h1>减肥规划器</h1>
    <form id="planForm">
        <label for="weight">当前体重（kg）</label>
        <input type="number" id="weight" placeholder="请输入当前体重" required>

        <label for="height">身高（cm）</label>
        <input type="number" id="height" placeholder="请输入身高" required>

        <label for="age">年龄</label>
        <input type="number" id="age" placeholder="请输入年龄" required>

        <label for="targetWeight">目标体重（kg）</label>
        <input type="number" id="targetWeight" placeholder="请输入目标体重" required>

        <label for="time">计划减肥时间（月）</label>
        <input type="number" id="time" placeholder="请输入计划减肥时间" required>

        <button type="submit">生成减肥规划</button>
    </form>
    <div id="result"></div>

    <script>
        document.getElementById('planForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const weight = parseFloat(document.getElementById('weight').value);
            const height = parseFloat(document.getElementById('height').value);
            const age = parseInt(document.getElementById('age').value);
            const targetWeight = parseFloat(document.getElementById('targetWeight').value);
            const time = parseInt(document.getElementById('time').value);

            // 计算BMI
            const bmi = weight / ((height / 100) ** 2);

            // 简单计算每月需减重数
            const weightToLosePerMonth = (weight - targetWeight) / time;

            let dietSuggestion = "";
            let exerciseType = "";
            let exerciseDuration = "";
            let exerciseTime = "";

            // 根据BMI和减重需求给出饮食建议
            if (bmi > 28) {
                dietSuggestion = "建议采用低热量、高纤维饮食，增加蔬菜、水果、全谷物摄入，控制碳水化合物和脂肪摄入，例如早餐可食用燕麦粥、水煮蛋和水果；午餐选择糙米饭、清炒时蔬和瘦肉；晚餐以蔬菜沙拉和清蒸鱼为主。";
            } else {
                dietSuggestion = "保持均衡饮食，适当控制热量摄入，多吃富含蛋白质、维生素和矿物质的食物，如鸡胸肉、鱼虾、各类蔬菜和水果。";
            }

            // 根据年龄和减重需求给出运动建议
            if (age < 30) {
                exerciseType = "可以选择高强度间歇训练（HIIT）、力量训练结合有氧运动，如每周进行3次HIIT训练，每次20分钟；2次力量训练，每次30分钟；3次30分钟的慢跑或游泳。";
            } else if (age < 50) {
                exerciseType = "推荐有氧运动和适度力量训练，比如每周4次30 - 40分钟的快走、骑自行车或跳绳，2次20分钟的简单力量练习，如平板支撑、深蹲。";
            } else {
                exerciseType = "适合较为温和的运动，如每天进行40分钟的散步，每周2 - 3次20分钟的瑜伽或太极拳练习。";
            }

            // 运动时长和时间安排
            exerciseDuration = "每次运动时间根据上述建议执行。";
            exerciseTime = "建议将运动时间分散在一周内，不要集中在某一天，以保持身体的适应性和避免过度疲劳。";

            // 按天拆分任务
            const daysInMonth = 30; // 这里简单按每月30天计算，可优化为准确计算每月天数
            const dietTasks = [];
            const exerciseTasks = [];
            for (let i = 1; i <= daysInMonth; i++) {
                dietTasks.push(`第${i}天饮食任务：遵循今日饮食建议`);
                exerciseTasks.push(`第${i}天运动任务：完成今日运动计划`);
            }

            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = `
                <h2>减肥规划结果</h2>
                <h3>饮食搭配建议：</h3>
                <p>${dietSuggestion}</p>
                <h3>运动类型建议：</h3>
                <p>${exerciseType}</p>
                <h3>运动时长建议：</h3>
                <p>${exerciseDuration}</p>
                <h3>运动时间建议：</h3>
                <p>${exerciseTime}</p>
                <h3>每日任务</h3>
                <div id="dietTasks">
                    <h4>饮食任务</h4>
                    <!-- 这里动态插入饮食任务 -->
                </div>
                <div id="exerciseTasks">
                    <h4>运动任务</h4>
                    <!-- 这里动态插入运动任务 -->
                </div>
            `;

            const dietTasksDiv = document.getElementById('dietTasks');
            const exerciseTasksDiv = document.getElementById('exerciseTasks');
            dietTasks.forEach(task => {
                const taskElement = document.createElement('div');
                taskElement.classList.add('task');
                taskElement.textContent = task;
                taskElement.addEventListener('click', function () {
                    this.classList.toggle('completed');
                });
                dietTasksDiv.appendChild(taskElement);
            });
            exerciseTasks.forEach(task => {
                const taskElement = document.createElement('div');
                taskElement.classList.add('task');
                taskElement.textContent = task;
                taskElement.addEventListener('click', function () {
                    this.classList.toggle('completed');
                });
                exerciseTasksDiv.appendChild(taskElement);
            });

            resultDiv.classList.add('show-result');
        });
    </script>
</body>

</html>
